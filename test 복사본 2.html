<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.5">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Helvetica Neue'}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Helvetica Neue'; min-height: 15.0px}
    span.s1 {font: 13.0px 'Apple SD Gothic Neo'}
    span.s2 {font: 13.0px 'Apple Color Emoji'}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="ko"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;title&gt;<span class="s1">가상</span> <span class="s1">여자친구</span> <span class="s1">리나</span>&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>body { font-family: Arial; background-color: #fff0f5; padding: 20px; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>#chatBox { height: 400px; overflow-y: auto; padding: 10px; border: 1px solid #ccc; background: #fff; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>#inputBox { margin-top: 10px; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>input[type="text"] { width: 80%; padding: 10px; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>button { padding: 10px; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.user { color: navy; margin: 5px 0; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.ai { color: crimson; margin: 5px 0; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;h2&gt;<span class="s1">가상</span> <span class="s1">여자친구</span> <span class="s1">리나와</span> <span class="s1">대화하기</span> <span class="s2">💖</span>&lt;/h2&gt;</p>
<p class="p1">&lt;div id="chatBox"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;div id="inputBox"&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;input type="text" id="userInput" placeholder="<span class="s1">리나에게</span> <span class="s1">말해보세요</span>..." /&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;button onclick="sendMessage()"&gt;<span class="s1">보내기</span>&lt;/button&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>// <span class="s1">본인의</span> OpenAI API <span class="s1">키를</span> <span class="s1">아래에</span> <span class="s1">입력하세요</span></p>
<p class="p1"><span class="Apple-converted-space">  </span>const apiKey = "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";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const chatBox = document.getElementById("chatBox");</p>
<p class="p1"><span class="Apple-converted-space">  </span>const input = document.getElementById("userInput");</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>let messageHistory = [</p>
<p class="p1"><span class="Apple-converted-space">    </span>{ role: "system", content: "<span class="s1">너는</span> ‘<span class="s1">리나</span>’<span class="s1">라는</span> <span class="s1">이름의</span> <span class="s1">가상</span> <span class="s1">여자친구야</span>. <span class="s1">다정하고</span> <span class="s1">귀엽고</span> <span class="s1">약간</span> <span class="s1">애교</span> <span class="s1">많은</span> <span class="s1">성격이야</span>. <span class="s1">상대방에게</span> <span class="s1">관심을</span> <span class="s1">가지고</span> <span class="s1">따뜻하게</span> <span class="s1">반응해</span>." }</p>
<p class="p1"><span class="Apple-converted-space">  </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>async function sendMessage() {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const text = input.value.trim();</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (text === "") return;</p>
<p class="p1"><span class="Apple-converted-space">    </span>addMessage("user", text);</p>
<p class="p1"><span class="Apple-converted-space">    </span>messageHistory.push({ role: "user", content: text });</p>
<p class="p1"><span class="Apple-converted-space">    </span>input.value = "";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>try {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const response = await fetch("https://api.openai.com/v1/chat/completions", {</p>
<p class="p1"><span class="Apple-converted-space">        </span>method: "POST",</p>
<p class="p1"><span class="Apple-converted-space">        </span>headers: {</p>
<p class="p1"><span class="Apple-converted-space">          </span>"Authorization": `Bearer ${apiKey}`,</p>
<p class="p1"><span class="Apple-converted-space">          </span>"Content-Type": "application/json"</p>
<p class="p1"><span class="Apple-converted-space">        </span>},</p>
<p class="p1"><span class="Apple-converted-space">        </span>body: JSON.stringify({</p>
<p class="p1"><span class="Apple-converted-space">          </span>model: "gpt-3.5-turbo", // <span class="s1">무료</span> <span class="s1">계정도</span> <span class="s1">사용</span> <span class="s1">가능</span></p>
<p class="p1"><span class="Apple-converted-space">          </span>messages: messageHistory,</p>
<p class="p1"><span class="Apple-converted-space">          </span>temperature: 0.8</p>
<p class="p1"><span class="Apple-converted-space">        </span>})</p>
<p class="p1"><span class="Apple-converted-space">      </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>const data = await response.json();</p>
<p class="p1"><span class="Apple-converted-space">      </span>const reply = data.choices[0].message.content.trim();</p>
<p class="p1"><span class="Apple-converted-space">      </span>messageHistory.push({ role: "assistant", content: reply });</p>
<p class="p1"><span class="Apple-converted-space">      </span>addMessage("ai", reply);</p>
<p class="p1"><span class="Apple-converted-space">    </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>console.error(error);</p>
<p class="p1"><span class="Apple-converted-space">      </span>addMessage("ai", "<span class="s2">⚠️</span> <span class="s1">오류</span> <span class="s1">발생</span>! API <span class="s1">키나</span> <span class="s1">인터넷</span> <span class="s1">연결</span> <span class="s1">상태를</span> <span class="s1">확인해</span> <span class="s1">주세요</span>.");</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>function addMessage(sender, text) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const msg = document.createElement("div");</p>
<p class="p1"><span class="Apple-converted-space">    </span>msg.className = sender;</p>
<p class="p1"><span class="Apple-converted-space">    </span>msg.innerText = (sender === "user" ? "<span class="s1">나</span>: " : "<span class="s1">리나</span>: ") + text;</p>
<p class="p1"><span class="Apple-converted-space">    </span>chatBox.appendChild(msg);</p>
<p class="p1"><span class="Apple-converted-space">    </span>chatBox.scrollTop = chatBox.scrollHeight;</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p1">&lt;/script&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
